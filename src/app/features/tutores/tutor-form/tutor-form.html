<div class="form-container">
  <div class="form-header">
    <h1>{{ isEditMode ? 'Editar Tutor' : 'Novo Tutor' }}</h1>
  </div>

  <div *ngIf="loading" class="loading">
    Carregando...
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <form [formGroup]="tutorForm" (ngSubmit)="onSubmit()" *ngIf="!loading">
    <div class="form-section">
      <h3>Dados Pessoais</h3>
      
      <div class="form-group">
        <label for="nome">Nome Completo *</label>
        <input 
          type="text" 
          id="nome" 
          formControlName="nome"
          [class.invalid]="tutorForm.get('nome')?.invalid && tutorForm.get('nome')?.touched">
        <div class="error" *ngIf="tutorForm.get('nome')?.invalid && tutorForm.get('nome')?.touched">
          Nome é obrigatório (mínimo 3 caracteres)
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="cpf">CPF *</label>
          <input> 
            type="text" 
            id="cpf" 
            formControlName="cpf"
            placeholder.000.000-00"
            [class.invalid]="tutorForm.get('cpf')?.invalid && tutorForm.get('cpf')?.touched">
          <div class="error" *ngIf="tutorForm.get('cpf')?.invalid && tutorForm.get('cpf')?.touched">
            CPF inválido (formato: 000.000.000-00)
          </div>
        </div>

        <div class="form-group">
          <label for="telefone">Telefone *</label>
          <input 
            type="text" 
            id="telefone" 
            formControlName="telefone"
            placeholder="(00) 00000-0000"
            [class.invalid]="tutorForm.get('telefone')?.invalid && tutorForm.get('telefone')?.touched">
          <div class="error" *ngIf="tutorForm.get('telefone')?.invalid && tutorForm.get('telefone')?.touched">
            Telefone inválido (formato: (00) 00000-0000)
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email *</label>
        <input 
          type="email" 
          id="email" 
          formControlName="email"
          [class.invalid]="tutorForm.get('email')?.invalid && tutorForm.get('email')?.touched">
        <div class="error" *ngIf="tutorForm.get('email')?.invalid && tutorForm.get('email')?.touched">
          Email inválido
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>Endereço</h3>

      <div class="form-row">
        <div class="form-group flex-2">
          <label for="endereco">Endereço</label>
          <input type="text" id="endereco" formControlName="endereco">
        </div>

        <div class="form-group">
          <label for="cep">CEP</label>
          <input 
            type="text" 
            id="cep" 
            formControlName="cep"
            placeholder="00000-000">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group flex-2">
          <label for="cidade">Cidade</label>
          <input type="text" id="cidade" formControlName="cidade">
        </div>

        <div class="form-group">
          <label for="estado">Estado</label>
          <input 
            type="text" 
            id="estado" 
            formControlName="estado"
            placeholder="UF"
            maxlength="2">
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" (click)="cancel()">Cancelar</button>
      <button type="submit" class="btn-submit" [disabled]="loading">
        {{ isEditMode ? 'Atualizar' : 'Cadastrar' }}
      </button>
    </div>
  </form>
</div>